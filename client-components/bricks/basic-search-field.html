
<script>
    const state =
    {
        searchkeywords: '',
        searchcallback: null,
        lang: {}
    };

    const methods =
    {
        changeInput(e)
        {
            this.render({ ...this.state, searchkeywords: e.target.value });
        },

        keydown(e)
        {
            if (e.keyCode === 13)
            {
                e.preventDefault();
                this.buttonClicked();
            }
        },

        buttonClicked(e)
        {
            if (typeof this.state.searchcallback === "function")
                this.state.searchcallback(this.state.searchkeywords);
        }
    };
</script>

<template>
    <span class="flex flex-row items-center">
        <label>
            ${state.lang.forms.search}:
            <input type="search" :value="state.searchkeywords" @input="changeInput" @keydown="keydown" />
        </label>
        <button type="button" class="btn ml-2 min-w-[32px]" @click="buttonClicked">
            <img src="${AbelMagazine.Helpers.URLGenerator.generateFileUrl('assets/pics/search.png')}" alt="${state.lang.forms.search}" width="28" />
        </button>
    </span>
</template>